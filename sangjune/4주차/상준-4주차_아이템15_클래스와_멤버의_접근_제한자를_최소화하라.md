# 클래스와 멤버의 접근 권한을 최소화하라

해당 아이템에서는 정보 은닉과 캡슐화에 대해서 강조해준다. 해당 원칙을 잘 지키면 클래스와 멤버의 접근성을 제한해서 시스템의 유지보수성, 확장성 및 오류 방지 능력을 향상시킬 수 있다.

## 잘 설계된 클래스란?

클래스 내부 데이터와 네부 구현 정보를 외부 컴포넌트로부터 얼마나 잘 숨겼느냐에 따라 잘 설계된 클래스라고 말할 수 있다. 잘 설계됐다면 모든 내부 구현을 숨겨 구현과 API가 깔끔하게 분리되는데 API를 통해서만 다른 컴포넌트와 소통하여 서로의 내부 동작 방식을 전혀 신경쓰지 않아도 된다.

## 정보 은닉의 장점

### 개발 속도 향상

여러 컴포넌트를 병렬로 개발할 수 있음

### 관리 비용 감소

각 컴포넌트에 대한 파악을 빨리 한 후 디버깅 가능, 다른 컴포넌트로의 교체에 드는 부담 감소

### 성능 최적화에 도움

다른 컴포넌트에 영향을 주지 않고 해당 컴포넌트만 최적화를 할 수 있음

### 소프트웨어 재사용성 증가

외부에 거의 의존하지 않고 동작하므로 다른 환경에서도 유용하게 쓰일 가능성이 높음

### 큰 시스템의 제작 난이도 감소

시스템 전체의 완성 전 개별 컴포넌트의 동작을 검증할 수 있음

## 정보 은닉 구현

> **_모든 클래스와 멤버의 접근성을 가능한 한 좁혀야 한다_**

### 클래스와 인터페이스

private으로 선언하면 내부 구현이 돼서 언제든 수정할 수 있으나 public으로 선언하면 API가 되므로 하위 호환을 위해 영원히 관리해줘야한다.

1. 한 클래스에서만 사용하는 package-private 톱레벨 클래스나 인터페이스는 이를 사용하는 클래스 안에 private static으로 중첨시키자(바깥 클래스 하나에서만 접근할 수 있다)
2. public일 필요가 없는 클래스의 접근 수준을 package-private 톱레벨 클래스로 좁히자

### 멤버

- private: 멤버 선언 톱레벨 클래스에서만 접근 가능
- package-private: 멤버가 소속된 패키지 안의 모든 클래스에서 접근 가능 (인터페이스 제외 기본 접근 수준, 인터페이스는 public)
- protected: package-private을 포함하며 해당 멤버를 선언한 클래스의 하위 클래스에서도 접근 가능
- public: 모든 곳에서 접근 가능

공개 API를 설계한 후 그 외 모든 멤버는 private으로 만들자

## 주의점

- public 클래스의 인스턴스 필드는 되도록 public이 아니어야 한다  
   해당 필드와 관련된 모든 것의 불변식을 보장할 수 없어진다
- 클래스에서 public static final 배열 필드를 두거나 이 필드를 반환하는 접근자 메소드를 제공하면 안된다.  
   클라이언트에서 그 배열의 내용을 수정할 수 있게 된다.

> public 클래스는 상수용 public static final 필드를 제외하고는 어떠한 public 필드도 가져서는 안된다.
