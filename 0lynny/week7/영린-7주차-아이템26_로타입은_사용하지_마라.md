## 아이템26.로타입은 사용하지 말라

<br>

클래스와 인터페이스 선언에 타입 매개변수(type pa-
rameter)?} 쓰이면, 이를 제네릭 클래스 혹은 제네릭 인터페이스라 한다. 이 둘을 통틀어 제네릭 인터페이스라고 한다. 

각각의 제네릭 타입은 일련의 매개변수화 타입을 정의한다. 제네릭 타입을 하나 정의하면 그에 딸린 로타입도 함께 정의된다. 로타입이란 제네릭 타입에서 타입 매개변수를 전혀 사용하지 않았을때를 말한다. 

이런 로타입은 제네릭이 주는 안전성과 표현력을 모두 잃게 되는 단점이 있다.

<br>

List와 List<Object>는 어떤 차이가 있을까?

List 는 제네릭타입에서 완전 발을 떼었다. List<Object> 는 임의 객체를 허용하는 매개변수화 타입 - 타입에 대한 정보를 컴파일러에 알려주었다.

제네릭의 불공변성에 따라, List<String>은 List<Object>의 하위 타입이 아니다. String[]은 Object[]의 하위타입이기 때문에 배열이나 로 타입을 사용해서 충돌하는 코드를 작성해도 컴파일 타임에선 문제가 발생하지 않지만, 제네릭의 경우 컴파일 타임에 잡아주는 만큼 이 경우에도 피해주는 것이 좋다.

<br>

**비한정 와일드 카드 타입은 제네릭타입을 사용하고 싶지만, 실제 타입 매개변수가 무엇인지 알고 싶지 않을 때 사용한다.** 

와일드 카드 타입은 안전하고 로타입은 안전하지 않다. 

```java
static int numElementsInCommon(Set<?> s1, Set<?> s2){...}
```

로타입은 타입 불변식을 훼손할 수 있기 때문에 사용하지 말자.

하지만 몇몇의 예외는 있다.

- 클래스 리터럴은 로타입을 사용해야한다.
- instanceOf() 과 관련되어있는데 로타입이든 비한정적 와일드 카드이든 똑같이 동작하므로 사용하는 것이 더 깔끔하다.

<br>

### 핵심 정리

로 타입을 사용하면 런타임 예외가 발생할 수 있으니 사용하지 말자.
