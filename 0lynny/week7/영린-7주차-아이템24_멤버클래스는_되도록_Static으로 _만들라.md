### 아이템24.멤버클래스는 되도록 Static으로 만들라

중첩클래스란 다른 클래스안에 정의된 클래스를 말한다. 중첩 클래스의 종류는 정적 멤버 클래스, (비정적) 멤버 클래스, 익명 클래스, 지역 클래스 이렇게 네가지가 있다. 그렇다면 중첩클래스를 언제, 왜 사용해야하는지 알아보자.

<br>

**1️⃣ 정적 멤버 클래스**

정적 멤버 클래스는 다른 클래스 안에 선언되고 바깥 클래스의 private 멤버에도 접근할 수 있다는 점을 제외하고는 일반 클래스와 똑같다. 정적 멤버 클래스는 흔히 바깥 클래스와 함께 쓰일때만 유용한 public 도우미 클래스로 쓰인다. 

**2️⃣ 비정적 멤버 클래스**

비정적 멤버 클래스의 인스턴스는 바깥클래스의 인스턴스와 암묵적으로 연결된다. 따라서 메서드에서 정규화된 this(클래스명.this)를 통해 바깥 인스턴스 메서드를 호출하거나 인스턴스의 참조를 가져올 수 있다. 어댑터를 정의하거나 Map 인터페이스 구현체, Set과 List와 같은 다른 컬렉션 인터페이스 구현들도 자신의 반복자를 구현할 때 비정적 멤버 클래스를 주로 사용한다.

중첩 클래스의 인스턴스가 바깥 인스턴스와 독립적으로 존재할 수 있고 접근할 일이 없다면 무조건 static을 붙여서 정적 멤버 클래스로 만들어야한다.

static을 생략하면 숨은 외부 참조를 갖게 되고, 가비지 컬렉션이 바깥 클래스의 인스턴스를 수거하지 못해 메모리 누수가 생길 수 있다. 

private 정적 멤버 클래스는 흔히 바깥 클래스가 표현하는 객체의 한 부분을 나타낼 때 쓴다. 

**3️⃣ 익명 클래스**

익명 클래스는 바깥 클래스의 멤버가 아니고 쓰이는 시점에 선언과 동시에 인스턴스가 만들어진다. 익명클래스는 여러 인터페이스를 구현할 수 없고, 다른 클래스를 상속할 수도 없다.

**4️⃣ 지역 클래스**

지역클래스는 지역 변수를 선언할 수 있는 곳이면 어디서든 선언할 수 있고, 유효범위도 지역변수와 같다. 

<br>

### 핵심정리

중첩 클래스에는 네 가지가 있으며, 각각의 쓰임이 다르다.
메서드 밖에서도 사용해야 하거나 메서드 안에 정의하기엔 너무 길다면 멤버 클래스로 만든다. 멤버 클래스의 인스턴스 각각이 바깥 인스턴스를 참조한다면 비정적으로,그렇지 않으면 정적으로 만들자.
중첩 클래스가 한 메서드 안에서만 쓰이면서 그 인스턴스를 생성하는 지점이 단 한 곳이고 해당 타입으로 쓰기에 적합한 클래스나 인터페이스가 이미 있다면 익명 클래스로 만들고, 그렇지 않으면 지역 클래스로 만들자.
